<%= render partial: 'about', locals: { product: @product } %>

<!-- reviews section -->
<div class='product-reviews'>
  <%= render 'reviews', reviews: reviews unless reviews.empty? %>
  <div class='buttons text-center'>
    <%= link_to 'Read More Reviews', product_reviews_path(product_id: @product.id), class: 'btn btn-default', role: 'button' %>
    <% if user_signed_in? %>
        <%= modal_button_tag 'Add a review',
                             new_product_review_path(@product),
                             method: :get,
                             link: true,
                             class: 'btn btn-default' %>
    <% end %>
  </div>
</div>

<!-- photos section -->
<div class='product-assets product-photos text-center'>
  <h1>Latest photos of <%= product.name %></h1>
  <div class="main-container">
    <div class="main-content-wrapper">
      <div class="flex thumbs-matrix-wrapper photo-wrapper">
        <%= render partial: 'product_photo', locals: { results: @photos } %>
      </div>
    </div>
  </div>
  <div class='buttons' id="show-photo">
    <%= link_to "Show more (#{product.photos_count - 2})",
                product_path(product, photo: @photos.next_page),
                { class: 'btn btn-default', role: 'button', 'data-remote': true } %>
    <% if user_signed_in? %>
        <%= modal_button_tag 'Upload', modals_path(action: :add_photo),
                             class: 'btn btn-success',
                             product_id: product.id %>
    <% end %>
  </div>
</div>

<!-- videos section -->
<div class='product-assets product-videos text-center'>
  <h1>Latest videos of <%= product.name %></h1>
  <div class="main-container">
    <div class="main-content-wrapper">
      <div class="flex thumbs-matrix-wrapper video-wrapper">
        <%= render partial: 'product_video', locals: { results: @videos } %>
      </div>
    </div>
  </div>
  <div class='buttons' id="show-video">
    <%= link_to "Show more (#{product.videos_count - 2})",
                product_path(product, video: @videos.next_page),
                { class: 'btn btn-default', role: 'button', 'data-remote': true } %>
    <% if user_signed_in? %>
        <%= modal_button_tag 'Upload', modals_path(action: :add_video),
                             class: 'btn btn-success',
                             product_id: product.id %>
    <% end %>
  </div>
</div>

<!-- details section -->
<div class='product-assets product-details text-center'>
  <div>
    <ul class='nav nav-pills' role='tablist'>
      <li role='presentation' class='active'>
        <a href='#characteristics' aria-controls='characteristics' role='tab' data-toggle='pill'>
          Characteristics
        </a>
      </li>
      <li role='presentation'>
        <a href='#company' aria-controls='company' role='tab' data-toggle='pill'>
          Company
        </a>
      </li>
      <li role='presentation'>
        <a href='#distributors' aria-controls='distributors' role='tab' data-toggle='pill'>
          Where to buy it
        </a>
      </li>
    </ul>
    <div class='tab-content container text-left'>
      <div role='tabpanel' class='tab-pane active' id='characteristics'>
        <%= render partial: 'characteristic', collection: product.characteristics %>
        <% unless product.dimensions.empty? %>
            <h1>Dimensions:</h1>
            <% product.dimensions.each do |dimension| %>
                <p><%= dimension.text %></p>
            <% end %>
        <% end %>
      </div>
      <div role='tabpanel' class='tab-pane' id='company'>
        <%= render 'company', company: product.company if product.company %>
      </div>
      <div role='tabpanel' class='tab-pane' id='distributors'>
        <%= render partial: 'distributor', collection: product.distributors %>
      </div>
    </div>
  </div>
</div>

<!-- similar products section -->
<div class='product-assets product-similars text-center'>
  <h1>Similar Products</h1>
  <div class="main-container">
    <div class="main-content-wrapper">
      <div class="flex thumbs-matrix-wrapper similar-wrapper">
        <%= render partial: 'product_similar', locals: { results: @similars } %>
      </div>
    </div>
  </div>
  <div class='buttons' id="show-similar">
    <%= link_to "Show more (#{product.similars_count - 2})",
                product_path(product, similar: @similars.next_page),
                { class: 'btn btn-default', role: 'button', 'data-remote': true } %>
  </div>
</div>
